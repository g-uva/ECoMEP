schema: '2.0'
stages:
  ingest:
    cmd: python scripts/ingest.py data/raw data/clean
    deps:
    - path: data/raw
      hash: md5
      md5: 470ec234b4cfd52f3bde4d205660af41.dir
      size: 3497724457
      nfiles: 753
    - path: scripts/ingest.py
      hash: md5
      md5: 4446e94a7a933dff49bb170b075eb439
      size: 1087
    outs:
    - path: data/clean
      hash: md5
      md5: 194eb69cafe5661f78a42b56140be704.dir
      size: 804358311
      nfiles: 744
  featurise:
    cmd: python scripts/featurise.py data/clean data/features
    deps:
    - path: data/clean
      hash: md5
      md5: 194eb69cafe5661f78a42b56140be704.dir
      size: 804358311
      nfiles: 744
    - path: scripts/featurise.py
      hash: md5
      md5: e3f854d0b321c44180b980c2455ea6c8
      size: 1003
      isexec: true
    outs:
    - path: data/features
      hash: md5
      md5: 7c6d0cb0332ed6b5fd83bcdcbe969fc6.dir
      size: 5711582
      nfiles: 2
  train:
    cmd: python scripts/train.py data/features models/baseline.joblib
    deps:
    - path: data/features
      hash: md5
      md5: 7c6d0cb0332ed6b5fd83bcdcbe969fc6.dir
      size: 5711582
      nfiles: 2
    - path: scripts/train.py
      hash: md5
      md5: 1e2bc29ae8fffa692205583ee6d98792
      size: 1263
      isexec: true
    params:
      params.yaml:
        model.learning_rate: 0.05
        model.max_depth: 6
        model.n_estimators: 300
    outs:
    - path: metrics/metrics.json
      hash: md5
      md5: 10a87ac129ef5e333d84695aa34e217a
      size: 59
    - path: models/baseline.joblib
      hash: md5
      md5: 281a69f56f90f6fa134002da925ac801
      size: 481014
  validate_features:
    cmd: python scripts/validate_features.py
    deps:
    - path: data/features/train.parquet
      hash: md5
      md5: 4680008a28b964c7d5a94c39923e0221
      size: 4680027
    - path: params.yaml
      hash: md5
      md5: e3a7b1b480b85b1b3e4b58b111a3b22f
      size: 160
    - path: schema/aliases.yaml
      hash: md5
      md5: 47b099fb36d8c56cf5e001d7d58d9cb5
      size: 457
    - path: scripts/validate_features.py
      hash: md5
      md5: 192460a14f61408074bf167613e392e8
      size: 2384
    outs:
    - path: reports/schema_report.json
      hash: md5
      md5: 46694e7d8609013b4cbc7d4d6b05f8a7
      size: 175
